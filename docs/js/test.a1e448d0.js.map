{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/template/sample6.png","webpack:///./src/assets/template/sample2.png","webpack:///./src/assets/template/sample1.png","webpack:///./src/assets/template/sample7.png","webpack:///./src/assets/template/field.png","webpack:///./src/assets/template/sample3.png","webpack:///./src/assets/template/length.png","webpack:///./src/assets/template/sample5.png","webpack:///./src/assets/template sync ^\\.\\/sample.*\\.png$","webpack:///./src/Test.vue?fc77","webpack:///src/Test.vue","webpack:///./src/Test.vue?136e","webpack:///./src/Test.vue","webpack:///./src/test.js","webpack:///./src/assets/template/sample4.png","webpack:///./src/assets/template/rotate.png","webpack:///./src/components/OpenCV.vue?fe39","webpack:///src/components/OpenCV.vue","webpack:///./src/components/OpenCV.vue?a32e","webpack:///./src/components/OpenCV.vue","webpack:///./src/assets/template/sample9.png","webpack:///./src/plugins/History.js","webpack:///./src/assets/template/ranking.png","webpack:///./src/assets/template/sample8.png","webpack:///./src/assets/template/allow.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","map","webpackContext","req","id","webpackContextResolve","e","Error","code","keys","resolve","_vm","this","_h","$createElement","_c","_self","_v","ref","attrs","onImageDone","_l","_s","success","opencv","template","staticRenderFns","components","OpenCV","opencv_file_index","opencv_processing","opencv_files","Array","fill","opencv_results","sprinter","mile","middle","stayer","dirt","opencv_result_view","computed","methods","JSON","stringify","mounted","clearInterval","timer","destroyed","component","Vue","config","productionTip","historyOption","query","use","History","$queryCallback","render","h","App","$mount","staticClass","allow","ranking","field","rotate","props","String","callback","windowLoad","run","process","cv","console","log","imshow","scaled","src","delete","matchTemplate","crop","rd","TM_CCOEFF","rm","color","rectangle","source","rect_lt","rect_rb","LINE_8","x","place","maxLoc","y","maxVal","dest","mask","red","maxPoint","cols","rows","finish","dy","scale","resize","Size","blue","rank_match","rank","Math","floor","won","index","filter","assign","race","addEventListener","once","passive","dispatchEvent","PopStateEvent","$refs","removeEventListener","install","options","location","search","split","substr","view","forEach","$go","url","title","state","undefined","history","pushState"],"mappings":"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","file":"js/test.a1e448d0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"test\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/sample6.d398604a.png\";","module.exports = __webpack_public_path__ + \"img/sample2.01cca4f8.png\";","module.exports = __webpack_public_path__ + \"img/sample1.6c836889.png\";","module.exports = __webpack_public_path__ + \"img/sample7.68598454.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"img/sample3.cd5b933d.png\";","module.exports = __webpack_public_path__ + \"img/length.22dcc2cf.png\";","module.exports = __webpack_public_path__ + \"img/sample5.943c084d.png\";","var map = {\n\t\"./sample1.png\": \"26eb\",\n\t\"./sample2.png\": \"1a00\",\n\t\"./sample3.png\": \"4951\",\n\t\"./sample4.png\": \"9e8e\",\n\t\"./sample5.png\": \"6649\",\n\t\"./sample6.png\": \"178b\",\n\t\"./sample7.png\": \"46ca\",\n\t\"./sample8.png\": \"f716\",\n\t\"./sample9.png\": \"b729\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"6e5c\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Test page\")]),_c('OpenCV',{ref:\"opencv\",attrs:{\"allow\":require('./assets/template/allow.png'),\"ranking\":require('./assets/template/ranking.png'),\"field\":require('./assets/template/field.png'),\"length\":require('./assets/template/length.png'),\"rotate\":require('./assets/template/rotate.png'),\"callback\":_vm.onImageDone}}),_c('table',[_c('tbody',_vm._l((_vm.opencv_result_view),function(r,i){return _c('tr',{key:i},[_c('td',[_vm._v(_vm._s((\"sample\" + (i + 1) + \" \")))]),_c('td',[_vm._v(_vm._s(r.success))]),_c('td',[_vm._v(_vm._s(r.opencv))]),_c('td',[_vm._v(_vm._s(r.template))])])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>Test page</h1>\n    <OpenCV ref=\"opencv\"\n       :allow=\"require('./assets/template/allow.png')\"\n       :ranking=\"require('./assets/template/ranking.png')\"\n       :field=\"require('./assets/template/field.png')\"\n       :length=\"require('./assets/template/length.png')\"\n       :rotate=\"require('./assets/template/rotate.png')\"\n       :callback=\"onImageDone\" />\n    <table>\n      <tbody>\n        <tr v-for=\"(r, i) in opencv_result_view\" :key=\"i\">\n          <td>{{ `sample${i + 1} `}}</td>\n          <td>{{ r.success }}</td>\n          <td>{{ r.opencv }}</td>\n          <td>{{ r.template }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport OpenCV from './components/OpenCV.vue';\nexport default {\n  name: \"Test\",\n  components: {\n    OpenCV,\n  },\n  data: function () {\n    return {\n      opencv_file_index: 0,\n      opencv_processing: false,\n      opencv_files: Array(9).fill(0).map((_, i) => require(`./assets/template/sample${i + 1}.png`)),\n      opencv_results: [{\n        sprinter: { field: 'turf', length: 1200, clockwise: true,  ranking: [1,5,7] },\n        mile: {     field: 'turf', length: 1600, clockwise: false, ranking: [5,1,6] },\n        middle: {   field: 'turf', length: 2000, clockwise: true,  ranking: [2,5,4] },\n        stayer: {   field: 'turf', length: 2500, clockwise: true,  ranking: [4,1,6] },\n        dirt: {     field: 'dirt', length: 1700, clockwise: true,  ranking: [3,6,4] },\n      }, {\n        sprinter: { field: 'turf', length: 1000, clockwise: null,  ranking: [4,6,2] },\n        mile: {     field: 'turf', length: 1800, clockwise: true,  ranking: [1,2,3] },\n        middle: {   field: 'turf', length: 2200, clockwise: false, ranking: [1,2,4] },\n        stayer: {   field: 'turf', length: 2600, clockwise: true,  ranking: [2,4,5] },\n        dirt: {     field: 'dirt', length: 1700, clockwise: true,  ranking: [3,2,4] },\n      }, {\n        sprinter: { field: 'turf', length: 1000, clockwise: null,  ranking: [1,5,4] },\n        mile: {     field: 'turf', length: 1500, clockwise: true,  ranking: [3,5,4] },\n        middle: {   field: 'turf', length: 2000, clockwise: true,  ranking: [6,2,3] },\n        stayer: {   field: 'turf', length: 3600, clockwise: true,  ranking: [4,2,1] },\n        dirt: {     field: 'dirt', length: 1700, clockwise: true,  ranking: [2,3,5] },\n      }, {\n        // 4\n        sprinter: { field: 'turf', length: 1200, clockwise: false, ranking: [2,4,6] },\n        mile: {     field: 'turf', length: 1800, clockwise: false, ranking: [2,6,4] },\n        middle: {   field: 'turf', length: 2200, clockwise: true,  ranking: [3,2,7] },\n        stayer: {   field: 'turf', length: 3400, clockwise: false, ranking: [2,3,4] },\n        dirt: {     field: 'dirt', length: 1800, clockwise: true,  ranking: [1,3,5] },\n      }, {\n        sprinter: { field: 'turf', length: 1200, clockwise: false, ranking: [3,5,2] },\n        mile: {     field: 'turf', length: 1800, clockwise: true,  ranking: [4,3,2] },\n        middle: {   field: 'turf', length: 2400, clockwise: true,  ranking: [1,2,3] },\n        stayer: {   field: 'turf', length: 2600, clockwise: true,  ranking: [1,3,2] },\n        dirt: {     field: 'dirt', length: 1800, clockwise: true,  ranking: [1,5,2] },\n      }, {\n        sprinter: { field: 'turf', length: 1200, clockwise: true,  ranking: [1,5,6] },\n        mile: {     field: 'turf', length: 1600, clockwise: true,  ranking: [5,3,1] },\n        middle: {   field: 'turf', length: 2000, clockwise: true,  ranking: [6,4,5] },\n        stayer: {   field: 'turf', length: 2600, clockwise: true,  ranking: [1,6,4] },\n        dirt: {     field: 'dirt', length: 1800, clockwise: true,  ranking: [3,1,6] },\n      }, {\n        // 7\n        sprinter: { field: 'turf', length: 1200, clockwise: true,  ranking: [3,5,1] },\n        mile: {     field: 'turf', length: 1800, clockwise: true,  ranking: [1,3,2] },\n        middle: {   field: 'turf', length: 2200, clockwise: true,  ranking: [5,2,6] },\n        stayer: {   field: 'turf', length: 2500, clockwise: true,  ranking: [1,2,5] },\n        dirt: {     field: 'dirt', length: 1700, clockwise: true,  ranking: [2,1,4] },\n      }, {\n        sprinter: { field: 'turf', length: 1400, clockwise: true,  ranking: [2,5,1] },\n        mile: {     field: 'turf', length: 1800, clockwise: true,  ranking: [1,3,7] },\n        middle: {   field: 'turf', length: 2000, clockwise: false, ranking: [5,4,2] },\n        stayer: {   field: 'turf', length: 2500, clockwise: false, ranking: [2,6,4] },\n        dirt: {     field: 'dirt', length: 1700, clockwise: true,  ranking: [1,4,5] },\n      }, {\n        sprinter: { field: 'turf', length: 1200, clockwise: true,  ranking: [1,4,3] },\n        mile: {     field: 'turf', length: 1600, clockwise: true,  ranking: [5,4,2] },\n        middle: {   field: 'turf', length: 2400, clockwise: false, ranking: [0,1,3] },\n        stayer: {   field: 'turf', length: 3000, clockwise: true,  ranking: [2,6,1] },\n        dirt: {     field: 'dirt', length: 1700, clockwise: true,  ranking: [5,1,3] },\n      }],\n      opencv_result_view: [],\n    };\n  },\n  computed: {\n  },\n  methods: {\n    onImageDone(result) {     \n      const r = {};\n      r.opencv = result;\n      r.template = this.opencv_results[this.opencv_file_index-1];\n      r.success = JSON.stringify(r.opencv) == JSON.stringify(r.template);\n      this.opencv_result_view.push(r);\n      \n      this.opencv_processing = false;\n    }\n  },\n  mounted() {\n    const timer = setInterval(() => {\n      if (!this.opencv_processing) {\n        this.$refs.opencv.run(this.opencv_files[this.opencv_file_index++]);\n        if (this.opencv_file_index > this.opencv_files.length) {\n          clearInterval(timer);\n          this.$refs.opencv.run(this.opencv_files[6]);\n        }\n      }\n    }, 500);\n\n  },\n  destroyed() {\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Test.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Test.vue?vue&type=template&id=4ec6095f&\"\nimport script from \"./Test.vue?vue&type=script&lang=js&\"\nexport * from \"./Test.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './Test.vue'\n\nVue.config.productionTip = false;\n\nimport History from './plugins/History.js';\nconst historyOption = { query: [] };\nVue.use(History, historyOption);\nVue.prototype.$queryCallback = historyOption.query;\n\nnew Vue({\n\trender: h => h(App),\n}).$mount('#app')","module.exports = __webpack_public_path__ + \"img/sample4.39ff6b7e.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAgCAIAAABiouoDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAVgSURBVGhD7ZjZbxtVFMb77zQtoNCCQFCW0odIoKoCQdWCWCSEWCR4AB54KGsRCBCiAiGkZqNNUpqkIUkDoVVVKEmTtqGF2I7txM7qJY6dxI63eOyZCcf+zOT22DOZCU774qOfFOU7556Rvrn3zr3ednx0+xaxVggmVpBb079qkC7oXzVIF/SvGqQL+lsw6ITj/mb77vrRmuN5eLYUPICJhphqq2G9//aLs+8Q56Zf63A/wVKloL9Zg+pHd3iivencYih5YzRc/5NrHysoBQ9goh7dnmcG/R/2T73cNfFkk/1uli2LQf/O8f093sOl5JQURk3FzrEU0e6qE5ug0qxBLWMPLKZdGJORY2fGD7CCUlDMxLLQrBxf7kJ9KhvucD/OCsqCeiYCX3wgp6RLwRAKRc2xFOFe7hSboLKsQTW/z77LuBr8UlISGJORVwZ877MCIPZBsagAmiDN9ntE2px7I2kH6hPZ+ZaxPayAaLTXsj6oZyIIJq8hayloiYhNIJYxqN62Ezmroaiy2AeiqABH5OR8ckRkIfVPTllFfVZJsSwYCR1jfVDPROBaPB1J2ddJO4i4NIch6poSy0xDFLDfCH0vNkHxbTCoIq+XgM5EcHLswZ8nniJoR/vRce+lufeG/Ec9y70YIquSPdJMiki352nWBMVlDdpBBq8jzWivl4I2oJuyAtGMV+yDelEBBYNUARZiah1LBl0JfoGsokrt7rpENoh/DWJk/hvWBHr5TbrN+ahGr/dZ7QG0t132fyJmGWITDBEVQG/PnxjSWJFmUUlBLospkWvzX7M+GMJEoGdQKhdJSAERWm5IWTNIo8F2hy3ciFKKWGamzflI4cBSCh+LIUxknHDcR/sLKrNKsm/yhZK2gA8kMIqJQM+g2fgfnuVuEfm/xbEZg2gzuh76llYsSimS2dBk9NeynJ9+gw3HECYyBnwfqKqMyhVp5qz3ue6Jg6WUPXZhFBOBnkGKmiVFBDqFZYMabbVDgU/F3cc4rga/Yh2gM1Gg5sLMWzRrUGYcrqV2OqmyDkgxEegZZAs3DQc+E5Hk4tnF8h7kiZ4V586GYdWgPu/zkryCmg2jUgYZhAWD2pyPxSU/0lrQ8SSYHAkkrojQ8aGYtmJQg+3Oi7Nv036JAgqa+TRVCW250WcLChhbbK2IQXTg8sUHRWSlOAksGNRk37W86kFaC7pnkM4qe7yHimkLBtVcD30nzs3V3NIp175m+y5iMtYPkQ4Trc6HIBKNtrtK+mzGoL8XfqA7gAjdCpCytsT+9B2hl0mfQDV/BslHpQyiWwU5ghRFKhcufLmKWW+0DzoZ1OzYrellQSUTwdYuMaLV+XB01Ut3grjkQx0ZRG9S+O7m6fUeRpbC/BIbChzFUqJ5dH769cLvJ8XUVhh02l1HOwad8o3RO2eVN4igK2WTvVa7wdNxrn/qFdpZRejQiCyFeYPo7BNIDMcyUwO+I2fGD4jMxS9hlCTHez2HxFTn+H7WB5VMBJpB6ppMq2HQ/9Fl/8fG0IGDDhliE3TQNYgQDdowzBtE0Az9bepVmp4ZOSqi7U20tGkSiSlaJqwJKpkINIMoVFUxiXupQ2yC4bfHIKLHc9D8Z54iq6RZB+hMBKJB5sO9ZPb3oCIFg5z0Momcko6kneG0QySamUSW2JRBsfxcMQedM1gHg/7Dwc8LX5j8vFhIjZrkr5t/UUF/I4MabDsvzLyJzyGdeulexgpaxvZo38uuCf4bIx7ARA2609F7Hpk/ZhJLL+CUc+8vky8VeJGlzIP+Rgb9T/AAJlaQW9O/apAu6F81SBf0rxqkC/pXDdIF/bfhTzX0omqQYayt/QurkvmDs9ABVgAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"opencv\"},[_c('img',{ref:\"source\",attrs:{\"id\":_vm.id}}),_c('img',{attrs:{\"id\":\"template_allow\",\"src\":_vm.allow}}),_c('img',{attrs:{\"id\":\"template_ranking\",\"src\":_vm.ranking}}),_c('img',{attrs:{\"id\":\"template_field\",\"src\":_vm.field}}),_c('img',{attrs:{\"id\":\"template_length\",\"src\":_vm.length}}),_c('img',{attrs:{\"id\":\"template_rotate\",\"src\":_vm.rotate}}),_c('canvas',{attrs:{\"id\":\"result\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"opencv\">\n    <img  :id=\"id\" ref=\"source\" />\n    <img  id=\"template_allow\" :src=\"allow\" />\n    <img  id=\"template_ranking\" :src=\"ranking\" />\n    <img  id=\"template_field\" :src=\"field\" />\n    <img  id=\"template_length\" :src=\"length\" />\n    <img  id=\"template_rotate\" :src=\"rotate\" />\n    <canvas id=\"result\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"OpenCV\",\n  components: {},\n  props: {\n    allow: String,\n    ranking: String,\n    field: String,\n    length: String,\n    rotate: String,\n    callback: { type: Function, default: () => {} },\n  },\n  computed: {},\n  data: function () {\n    return { id: new Date().getTime() + '_temp' };\n  },\n  methods: {\n    windowLoad: function () {},\n    run: async function (file) {\n      this.$refs.source.setAttribute('src', file);\n    },\n    process: function () {\n      const cv = window.cv;\n      if (!window.cv) {\n        console.log('OpenCVが有効じゃありません');\n        \n        this.callback();\n        return;\n      }\n\n      const src = cv.imread(this.id);\n      const template = Object.fromEntries(\n        ['allow', 'ranking', 'field', 'length', 'rotate'].map(x => [x, cv.imread(`template_${x}`)])\n        );\n\n      const scaled = new cv.Mat();\n\n      const finish = result => {\n        cv.imshow(\"result\", scaled);\n\n        src.delete();\n        scaled.delete();\n\n        this.callback(result);\n      };\n      \n      \n      const match = (source, rect, template, color) => {\n        const r = new cv.Rect(rect.x, rect.y, rect.w, rect.h);\n        const crop = source.roi(r);\n        \n        const rd = new cv.Mat();\n        const rm = new cv.Mat();\n        cv.matchTemplate(template, crop, rd, cv.TM_CCOEFF, rm);\n        const place = cv.minMaxLoc(rd, rm);\n        \n        crop.delete();\n        rd.delete();\n        rm.delete();\n        \n        if (color) {\n          const rect_lt = new cv.Point(rect.x, rect.y);\n          const rect_rb = new cv.Point(rect.x + rect.w, rect.y + rect.h);\n\n          cv.rectangle(source, rect_lt, rect_rb, color, 2, cv.LINE_8, 0);\n        }\n\n        return {\n          x: place.maxLoc.x,\n          y: place.maxLoc.y,\n          value: place.maxVal,\n        };\n      };\n\n      const red = new cv.Scalar(255, 0, 0, 255);\n      const blue = new cv.Scalar(0, 0, 255, 255);\n      const green = new cv.Scalar(0, 255, 0, 255);\n\n      const allows = Array(4).fill(null).map(() => {\n        const dest = new cv.Mat();\n        const mask = new cv.Mat();\n\n        cv.matchTemplate(src, template.allow, dest, cv.TM_CCOEFF, mask);\n        const result = cv.minMaxLoc(dest, mask);\n        const maxPoint = result.maxLoc;\n\n        const rect_lt = new cv.Point(maxPoint.x + 3, maxPoint.y + 3);\n        const rect_rb = new cv.Point(\n          maxPoint.x + template.allow.cols - 3,\n          maxPoint.y + template.allow.rows - 3\n        );\n        cv.rectangle(src, rect_lt, rect_rb, red, 2, cv.LINE_8, 0);\n        dest.delete();\n        mask.delete();\n\n        return [maxPoint.x + template.allow.cols / 2, maxPoint.y + template.allow.rows / 2];\n      }).sort((a, b) => a[1] - b[1]);\n\n      let scale = 1;\n      {\n        // X座標ずれが大きい時は失敗\n        const x = allows.map(x => x[0]);\n        if ((Math.max(...x) - Math.min(...x)) > 10) {\n          console.log('矢印の場所がおかしい');\n          finish();\n          return;\n        }\n\n        // Y座標の間隔のずれが大きい時は失敗\n        const dy = allows.map(x => x[1])\n                        .map((x, i, a) => a[i + 1] - x)\n                        .filter((x, i, a) => i < a.length - 1)\n                        .sort((a, b) => a - b);\n\n        if (dy[2] - dy[0] > 10) {\n          console.log('矢印の間隔がおかしい');\n          finish();\n          return;\n        }\n\n        scale = 212 / dy[1];\n      }\n      cv.resize(src, scaled, new cv.Size(src.cols * scale, src.rows * scale));\n      const center = [0, 1].map(t => Math.ceil(allows.reduce((a,b) => a + b[t], 0) / 4));\n      const base_points = Array(5).fill(0).map((_, i) => [center[0] - 330, center[1] - 500 + 212 * i]);\n\n      // ランキングをテンプレートマッチングで取得\n      const rank = base_points.map(([x, y]) => {\n        const rect_lt = new cv.Point(x, y);\n        const rect_rb = new cv.Point(x + 660, y + 150);\n        cv.rectangle(scaled, rect_lt, rect_rb, blue, 2, cv.LINE_8, 0);\n\n        return Array(3).fill(null).map((_, i) => {\n          const rect = { x: x + 165 + i * 74, y: y + 117, w: 36, h: 20 };\n          const rank_match = match(scaled, rect, template.ranking, green);\n\n          console.log(`${rank_match.value}: ${!(Math.floor(rank_match.y / 32))}, ${Math.floor(rank_match.x / 45) + 1}`);\n\n          return rank_match.value > 1600000 ? {\n            rank: Math.floor(rank_match.x / 45) + 1,\n            won: !(Math.floor(rank_match.y / 32))\n          } : {\n            rank: 0, won: null\n          };\n        });\n      });\n      \n      // レース種別をテンプレートマッチングで取得\n      const race = base_points.map(([_x, _y]) => {\n        const y = _y + 12;\n        const h = 24;\n        let x = _x + 192;\n\n        const field_match = match(scaled, { x, w:25, y, h }, template.field, red);\n        const field = field_match.value > 4000000 ? (['turf', 'dirt'])[Math.floor(field_match.y / 32)] : undefined;\n\n        x += field == 'turf' ? 30 : 73;\n        const length_match = match(scaled, { x, w:80, y, h }, template.length, red);\n        const length = ([\n          0,\n          1000, 1200, 1400,\n          1500, 1600, 1700, 1800,\n          2000, 2200, 2300, 2400,\n          2500, 2600, 3000, 3200, 3400, 3600])[\n            length_match.value > 18000000 ? Math.floor(length_match.y / 32) + 1 : 0\n          ];\n\n        x += 177;\n        const rotate_match = match(scaled, {x, w: 25, y, h}, template.rotate, red);\n        const clockwise = ([true, false, null])[Math.floor(rotate_match.x / 32)];\n        return { field, length, clockwise };\n      });\n\n      const index = [\n        race.findIndex(x => x.field == 'turf' && x.length <= 1400),\n        race.findIndex(x => x.field == 'turf' && x.length > 1400 && x.length <= 1800),\n        race.findIndex(x => x.field == 'turf' && x.length > 1800 && x.length <= 2400),\n        race.findIndex(x => x.field == 'turf' && x.length > 2400),\n        race.findIndex(x => x.field == 'dirt')\n      ]\n      if (index.filter(x => x < 0).length > 0) {\n        console.log('認識失敗');\n        finish();\n        return;\n      }\n\n      finish({\n        sprinter: Object.assign(race[index[0]], { ranking: rank[index[0]].map(x => x.rank) }),\n        mile: Object.assign(race[index[1]], { ranking: rank[index[1]].map(x => x.rank) }),\n        middle: Object.assign(race[index[2]], { ranking: rank[index[2]].map(x => x.rank) }),\n        stayer: Object.assign(race[index[3]], { ranking: rank[index[3]].map(x => x.rank) }),\n        dirt: Object.assign(race[index[4]], { ranking: rank[index[4]].map(x => x.rank) }),\n      });\n\n      return;\n    },\n  },\n  mounted: function () {\n    window.addEventListener(\"load\", this.windowLoad, {\n      once: true,\n      passive: true,\n    });\n    dispatchEvent(new PopStateEvent(\"popstate\", {}));\n\n    this.$refs.source.addEventListener('load', this.process, {once: false, passive: true});\n  },\n  destroyed: function () {\n    window.removeEventListener(\"load\", this.windowLoad, {\n      once: true,\n      passive: true,\n    });\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenCV.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OpenCV.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OpenCV.vue?vue&type=template&id=371b9f35&\"\nimport script from \"./OpenCV.vue?vue&type=script&lang=js&\"\nexport * from \"./OpenCV.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/sample9.e33e72ce.png\";","// SPA化するための履歴操作なんだけど何やってたか忘れた\n\nexport default {\n\tinstall: (Vue, options) => {\n\t\twindow.addEventListener(\"popstate\", () => {\n\t\t\tconst [view, ...query] = window.location.search\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map((x, i) => (i == 0 ? x.substr(1) : x))\n\t\t\t\t.filter(x => x);\n\n\t\t\toptions.query.forEach(callback => {\n\t\t\t\tcallback(view, query);\n\t\t\t});\n\t\t}, { once: false, passive: true });\n\n\t\tVue.prototype.$go = (url, title = \"\", state = undefined) => {\n\t\t\thistory.pushState(state, title, url);\n\t\t\tdispatchEvent(new PopStateEvent(\"popstate\", {}));\n\t\t};\n\t},\n};","module.exports = __webpack_public_path__ + \"img/ranking.916ce9e8.png\";","module.exports = __webpack_public_path__ + \"img/sample8.ffc0e1f0.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}